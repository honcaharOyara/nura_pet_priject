const slideBoxes=document.querySelectorAll(".slider__box"),sliderLine=document.querySelector(".slider__slides"),btnPrev=document.querySelector(".slider__prev-btn"),btnNext=document.querySelector(".slider__next-btn");let width,count=0;function init(){width=document.querySelector(".slider__wrap").offsetWidth,sliderLine.style.width=width*slideBoxes.length+"px",slideBoxes.forEach(e=>{e.style.width=width+"px",e.style.height="auto"})}function prevSlide(){--count<0&&(count=slideBoxes.length-1),rollSlide()}function nextSlide(){++count>=slideBoxes.length&&(count=0),rollSlide()}function rollSlide(){sliderLine.style.transform="translate(-"+count*width+"px"}window.addEventListener("resize",init),init(),btnPrev.addEventListener("click",prevSlide),btnNext.addEventListener("click",nextSlide);const modalWindows=document.querySelectorAll(".modal-window__link"),body=document.querySelector(".body"),lockPadding=document.querySelector(".lock-padding");let unlock=!0;const timeout=500;if(modalWindows.length>0)for(let e=0;e<modalWindows;e++){const o=modalWindows[e];o.addEventListener("click",function(e){const t=o.getAttribute("href").replace("#","");modalWindowOpen(document.getElementById(t)),e.preventDefault()})}const closeModalWindowIcons=document.querySelectorAll(".close-modal-window");if(closeModalWindowIcons.length>0)for(let e=0;e<closeModalWindowIcons;e++){const o=closeModalWindowIcons[e];o.addEventListener("click",function(e){modalWindowClose(o.closest(".modal-window")),e.preventDefault()})}function modalWindowOpen(e){if(e&&unlock){const o=document.querySelector(".modal-window.open");o?modalWindowClose(o,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",function(e){e.target.closest(".modal-window__content")||modalWindowClose(e.target.closest(".modal-window"))})}}function modalWindowClose(e,o=!0){unlock&&(e.classList.remove("open"),o&&bodyUnlock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".container").offsetWidth+"px";if(lockPadding>0)for(let o=0;o<lockPadding.length;o++){lockPadding[o].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout(function(){unlock=!0},timeout)}function bodyUnlock(){setTimeout(function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove(".lock")},timeout),unlock=!1,setTimeout(function(){unlock=!0},timeout)}